<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<div>
    <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
    <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
</div>
<div id="obox">
    <button id="btn1">判断当前选中的输入框输入内容是否为数字</button>
    <button id="btn2">把 A 四舍五入为 B 个小数位数的数字</button>
    <button id="btn3">当前选中数字的绝对值</button>
    <button id="btn4">对当前选中的数字进行上舍入</button>
    <button id="btn5">对当前选中的数字进行下舍入</button>
    <button id="btn6">把当前选中的数字四舍五入为最接近的整数</button>
    <button id="btn7">返回 A 和 B 中的最高值</button>
    <button id="btn8">返回 A 和 B 中的最低值</button>        
</div>
<p id="result"></p>
<script type="text/javascript">
// button用事件委托，下个练习再自己练习这个写法

 	// var list = document.querySelectorAll('button');
 	// for (var i=0;i<list.length;i++) {
 	// 	list[i].onclick = function(e){
 	// 		var target = e.target;
 	// 		var numbera = document.getElementById('num-a').value;
		// 	var numberb = document.querySelector('#num-b').value;
 	// 		var result = document.querySelector('#result');
 	// 		list[i] = test();
 	// 	}
 	// }
 	
window.onload =function() {
	var oBox = document.getElementById('obox');
	oBox.onclick=function(ev) {
		var ev = ev || window.event;
		var target =ev.target;
		var numbera = document.getElementById('num-a').value;
		var numberb = document.querySelector('#num-b').value;
		var result = document.querySelector('#result');
		if(target.nodeName== 'BUTTON'){
			switch(target.id) {
				case 'btn1':
					isNum();
					break;
				case 'btn2':
					fourToFive(numbera,numberb);
					break;
				case 'btn3':
					absnum(numbera,numberb);
					break;
				case 'btn4':
					toTop(numbera,numberb);
					break;
				case 'btn5':
					toBottom(numbera,numberb);
					break;
				case 'btn6':
					toRound(numbera,numberb);
					break;
				case 'btn7':
					toHigh(numbera,numberb);
					break;
				case 'btn8':
					toLow(numbera,numberb);
					break;				

			}
		}
	}
}
function test() {
	var test = "test";
	return test;
}

function isNum (numa , numb){
		var numbera = document.getElementById('num-a').value;
		var numberb = document.querySelector('#num-b').value;
	 	var result = document.querySelector('#result');
		var btn1 = document.getElementById('btn1');
 		console.log(parseFloat(numbera));
 		if (isNaN(numbera)==false && isNaN(numberb)==false) {
 			result.innerHTML="是数字";
 		}
 		else {
 			result.innerHTML="不是数字";
 			return false;
 		}
 }

 function isNumb (numa , numb){
		// var numbera = document.getElementById('num-a').value;
		// var numberb = document.querySelector('#num-b').value;
 		if (isNaN(numa)==false && isNaN(numb)==false) {
 			return true;
 		}
 		else {
 			return false;
 		}
 }


function fourToFive (numa, numb) {
	if(isNumb(numa,numb)){
		var num = parseFloat(numa) ;
		var wei = numb ;
		result.innerHTML= num.toFixed(wei);

	}
	else {
		console.log("不是");
	}
}

function toHigh (numa, numb) {
	if(isNumb(numa,numb)){
		var a = parseFloat(numa) ;
		var b = parseFloat(numb) ;
		var max = a>b?a:b;
		result.innerHTML = max;

	}
	else {
		console.log("不是");
	}
}

function toLow (numa, numb) {
	if(isNumb(numa,numb)){
		var a = parseFloat(numa) ;
		var b = parseFloat(numb) ;
		var min = a<b?a:b;
		result.innerHTML = min;

	}
	else {
		console.log("不是");
	}
}

function absnum (numa, numb) {
	if(isNumb(numa,numb))
	{
	var check = document.getElementsByName('math-obj');
	console.log(check[0].checked);
	var selectvalue = null;
	var selectid =null;
	for(var i=0; i< check.length; i++)
	{	
		if(check[i].checked == true) {
			selectvalue =check[i].value;
			// selectid = document.getElementById(check[i].id);
			console.log(selectvalue);
			if(selectvalue == 'a')
			{
				result.innerHTML = Math.abs(numa);	
			}
			else
			{
				result.innerHTML = Math.abs(numb);
				
			}
			break;
		}
	}
	}

	else {
		console.log("不是");
	}
}


function toTop (numa, numb) {
	if(isNumb(numa,numb))
	{
	var check = document.getElementsByName('math-obj');
	var selectvalue = null;
	var selectid =null;
	for(var i=0; i< check.length; i++)
	{	
		if(check[i].checked == true) {
			selectvalue =check[i].value;
			// selectid = document.getElementById(check[i].id);
			console.log(selectvalue);
			if(selectvalue == 'a')
			{
				result.innerHTML = Math.ceil(numa);	
			}
			else
			{
				result.innerHTML = Math.ceil(numb);
				
			}
			break;
		}
	}
	}

	else {
		console.log("不是");
	}
}

function toBottom (numa, numb) {
	if(isNumb(numa,numb))
	{
	var check = document.getElementsByName('math-obj');
	var selectvalue = null;
	var selectid =null;
	for(var i=0; i< check.length; i++)
	{	
		if(check[i].checked == true) {
			selectvalue =check[i].value;
			// selectid = document.getElementById(check[i].id);
			console.log(selectvalue);
			if(selectvalue == 'a')
			{
				result.innerHTML = Math.floor(numa);	
			}
			else
			{
				result.innerHTML = Math.floor(numb);
				
			}
			break;
		}
	}
	}

	else {
		console.log("不是");
	}
}

function toRound (numa, numb) {
	if(isNumb(numa,numb))
	{
	var check = document.getElementsByName('math-obj');
	var selectvalue = null;
	var selectid =null;
	for(var i=0; i< check.length; i++)
	{	
		if(check[i].checked == true) {
			selectvalue =check[i].value;
			// selectid = document.getElementById(check[i].id);
			console.log(selectvalue);
			if(selectvalue == 'a')
			{
				result.innerHTML = Math.round(numa);	
			}
			else
			{
				result.innerHTML = Math.round(numb);
				
			}
			break;
		}
	}
	}

	else {
		console.log("不是");
	}
}
</script>
</body>
</html>